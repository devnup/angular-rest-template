"use strict";!function(){function a(a){return["$rootScope","$window",function(b,c){for(var d,e,f,g=c[a]||(console.warn("This browser does not support Web Storage!"),{}),h={$default:function(a){for(var b in a)angular.isDefined(h[b])||(h[b]=a[b]);return h},$reset:function(a){for(var b in h)"$"===b[0]||delete h[b];return h.$default(a)}},i=0;i<g.length;i++)(f=g.key(i))&&"ngStorage-"===f.slice(0,10)&&(h[f.slice(10)]=angular.fromJson(g.getItem(f)));return d=angular.copy(h),b.$watch(function(){e||(e=setTimeout(function(){if(e=null,!angular.equals(h,d)){angular.forEach(h,function(a,b){angular.isDefined(a)&&"$"!==b[0]&&g.setItem("ngStorage-"+b,angular.toJson(a)),delete d[b]});for(var a in d)g.removeItem("ngStorage-"+a);d=angular.copy(h)}},100))}),"localStorage"===a&&c.addEventListener&&c.addEventListener("storage",function(a){"ngStorage-"===a.key.slice(0,10)&&(a.newValue?h[a.key.slice(10)]=angular.fromJson(a.newValue):delete h[a.key.slice(10)],d=angular.copy(h),b.$apply())}),h}]}angular.module("ngStorage",[]).factory("$localStorage",a("localStorage")).factory("$sessionStorage",a("sessionStorage"))}(),angular.module("com.devnup.rest.cache.storage",["ngStorage"]).factory("$storageWrapper",["$rootScope","$localStorage","$sessionStorage",function(a,b,c){if(!b||!c)throw new Error("ngStorage is required");var d=function(a){var b=a.$default;return a.$default=function(){return b.apply(arguments),a},a};return{$local:function(){return d(b)},$session:function(){return d(c)}}}]),angular.module("com.devnup.rest.cache",["com.devnup.rest.cache.storage"]).factory("$cache",["$storageWrapper",function(a){var b=a.$local().$default({bucket:{}}),c=function(a,c){return c=c||{},b[a]={createdAt:Date.now(),lastUpdated:Date.now(),refresh:c.refresh},f(a)},d=function(a){b[a]={}},e=function(a){return JSON.parse(JSON.stringify(a))},f=function(a){var c=e(b[a]);c.refresh=function(c){b[a].refresh?b[a].refresh(function(d,e){b[a].lastUpdated=Date.now(),b[a].result=e,c(d,b[a])}):c(null,b[a])},c.clear=function(){d(a)}},g=function(a){return b[a]?f(b[a]):c.apply(arguments)};return{bucket:g,clear:function(){b={}}}}]),angular.module("com.devnup.rest",["com.devnup.rest.cache"]).factory("$async",[function(){return async.callback=function(a){var b={success:angular.noop,error:angular.noop};a=a||{},a.method=a.method||angular.copy(b),a.success=a.success||angular.noop,a.error=a.success||angular.noop,a.method.success(function(c){c.error?(a.error(c.error),b.error(c.error)):(a.success(c),b.success(c))}).error(function(c){a.error(c),b.error(c)});var c={success:function(a){return b.success=a,c},error:function(a){return b.error=a,c}};return c},async}]).factory("$rest",["$async","$http","$cache",function(a,b){var c="/api/";return{callback:a.callback,config:function(a){c=a.base},get:function(a,d){return b.get(c+a,d)},post:function(a,d){return b.post(c+a,d)},put:function(a,d){return b.put(c+a,d)},"delete":function(a,d){return b["delete"](c+a,d)}}}]);